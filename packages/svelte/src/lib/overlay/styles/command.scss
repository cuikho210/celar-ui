@use '../../../styles/colors.scss';
@use '../../../styles/misc.scss';
@use '../../../styles/spacing.scss';

[data-command-dialog] {
	top: 25dvh;
	left: calc(50lvw - var(--gap));
	transform: translate(-50%, 0);
	max-height: calc(75dvh - (var(--gap) * 2));

	[data-command-input] {
		background-color: var(--color-bg);
		border: 1px solid var(--color-border);
		border-radius: var(--radius--half);
		padding: var(--gap--half);
		font-size: inherit;
		font-family: inherit;
		line-height: 1.5;
		color: var(--color-text);
		outline: none;
		transition: border-color var(--transition-dur) ease-in-out;
		width: 100%;
		box-sizing: border-box;

		&::placeholder {
			color: rgba(var(--color-text--rgb), 0.6);
		}

		&:focus {
			border-color: var(--color-primary);
		}
	}

	[data-command-list] {
		flex: 1;
		overflow-y: auto;
		overflow-x: hidden;
		margin-top: var(--gap);
	}

	[data-command-viewport] {
		display: flex;
		flex-direction: column;
		gap: var(--gap--xs);
	}

	[data-command-group] {
		display: flex;
		flex-direction: column;
		gap: var(--gap--xs);

		&:not(:first-child) {
			margin-top: var(--gap--md);
		}
	}

	[data-command-group-heading] {
		font-weight: 600;
		font-size: 0.8em;
		color: rgba(var(--color-text--rgb), 0.6);
		text-transform: uppercase;
		letter-spacing: 0.05em;
		margin-bottom: var(--gap--half);
	}

	[data-command-group-items] {
		display: flex;
		flex-direction: column;
		gap: var(--gap--xs);
	}

	[data-command-item] {
		display: flex;
		align-items: center;
		justify-content: space-between;
		gap: var(--gap--md);
		padding: var(--gap--md);
		border-radius: var(--radius--half);
		cursor: pointer;
		line-height: 1.5;
		color: var(--color-text);
		background-color: transparent;
		border: none;
		text-align: left;
		width: 100%;
		outline: none;
		box-sizing: border-box;

		&[data-selected] {
			background-color: rgba(var(--color-alt--rgb), 0.4);
		}

		&[data-disabled] {
			opacity: 0.5;
			cursor: not-allowed;

			&:hover {
				background-color: transparent;
			}
		}

		&:focus-visible {
			background-color: rgba(var(--color-primary--rgb), 0.1);
			box-shadow: 0 0 0 2px var(--color-primary);
		}

		[data-command-item-shortcut] {
			font-size: 0.9rem;
			color: rgba(var(--color-text--rgb), 0.6);
			background-color: var(--color-border);
			padding: var(--gap--xs) var(--gap--sm);
			border-radius: var(--radius--half);
			border: 1px solid var(--color-border--strong);
			font-family:
				ui-monospace, SFMono-Regular, 'SF Mono', Consolas, 'Liberation Mono', Menlo, monospace;
		}
	}

	[data-command-empty] {
		color: rgba(var(--color-text--rgb), 0.5);
		text-align: center;
	}
}
